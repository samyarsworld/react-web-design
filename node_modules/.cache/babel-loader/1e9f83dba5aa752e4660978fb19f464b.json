{"ast":null,"code":"import _classCallCheck from\"/home/samyarsworld/Desktop/first-react-project/fetch-json-server/react-web-design/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/samyarsworld/Desktop/first-react-project/fetch-json-server/react-web-design/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/samyarsworld/Desktop/first-react-project/fetch-json-server/react-web-design/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/samyarsworld/Desktop/first-react-project/fetch-json-server/react-web-design/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import DishDetail from'./DishDetailComponent';import Menu from'./MenuComponent';import Header from'./HeaderComponent';import Footer from'./FooterComponent';import Home from'./HomeComponent';import Contact from'./ContactComponent';import About from'./AboutComponent';import{Switch,Route,Redirect,withRouter}from'react-router-dom';import{connect}from'react-redux';import{postComment as _postComment,fetchDishes as _fetchDishes,fetchComments as _fetchComments,fetchPromos as _fetchPromos,fetchLeaders as _fetchLeaders,postFeedback as _postFeedback}from'../redux/ActionCreators';import{actions}from'react-redux-form';import{TransitionGroup,CSSTransition}from'react-transition-group';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var mapStateToProps=function mapStateToProps(state){return{dishes:state.dishes,comments:state.comments,promotions:state.promotions,leaders:state.leaders};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{postComment:function postComment(dishId,rating,author,comment){return dispatch(_postComment(dishId,rating,author,comment));},fetchDishes:function fetchDishes(){dispatch(_fetchDishes());},resetFeedbackForm:function resetFeedbackForm(){dispatch(actions.reset('feedback'));},fetchComments:function fetchComments(){dispatch(_fetchComments());},fetchPromos:function fetchPromos(){dispatch(_fetchPromos());},fetchLeaders:function fetchLeaders(){dispatch(_fetchLeaders());},postFeedback:function postFeedback(values){dispatch(_postFeedback(values));}};};var Main=/*#__PURE__*/function(_Component){_inherits(Main,_Component);var _super=_createSuper(Main);function Main(props){_classCallCheck(this,Main);return _super.call(this,props);}_createClass(Main,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.fetchDishes();this.props.fetchComments();this.props.fetchPromos();this.props.fetchLeaders();}},{key:\"render\",value:function render(){var _this=this;var HomePage=function HomePage(){return/*#__PURE__*/_jsx(Home,{dish:_this.props.dishes.dishes.filter(function(dish){return dish.featured;})[0],dishesLoading:_this.props.dishes.isLoading,dishesErrMess:_this.props.dishes.errMess,promotion:_this.props.promotions.promotions.filter(function(promotion){return promotion.featured;})[0],promosLoading:_this.props.promotions.isLoading,promosErrMess:_this.props.promotions.errMess,leadersLoading:_this.props.leaders.isLoading,leadersErrMess:_this.props.leaders.errMess,leader:_this.props.leaders.leaders.filter(function(leader){return leader.featured;})[0]});};var DishWithId=function DishWithId(_ref){var match=_ref.match;return/*#__PURE__*/_jsx(DishDetail,{dish:_this.props.dishes.dishes.filter(function(dish){return dish.id===parseInt(match.params.dishId,10);})[0],dishesLoading:_this.props.dishes.isLoading,dishesErrMess:_this.props.dishes.errMess,comments:_this.props.comments.comments.filter(function(comment){return comment.dishId===parseInt(match.params.dishId,10);}),commentsErrMess:_this.props.comments.errMess,postComment:_this.props.postComment});};return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(TransitionGroup,{children:/*#__PURE__*/_jsx(CSSTransition,{classNames:\"page\",timeout:300,children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/home\",component:HomePage}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/menu\",component:function component(){return/*#__PURE__*/_jsx(Menu,{dishes:_this.props.dishes});}}),/*#__PURE__*/_jsx(Route,{path:\"/menu/:dishId\",component:DishWithId}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/contactus\",component:function component(){return/*#__PURE__*/_jsx(Contact,{postFeedback:_this.props.postFeedback,resetFeedbackForm:_this.props.resetFeedbackForm});}}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/aboutus\",component:function component(){return/*#__PURE__*/_jsx(About,{leaders:_this.props.leaders});}}),/*#__PURE__*/_jsx(Redirect,{to:\"/home\"})]})},this.props.location.key)}),/*#__PURE__*/_jsx(Footer,{})]});}}]);return Main;}(Component);export default withRouter(connect(mapStateToProps,mapDispatchToProps)(Main));","map":{"version":3,"names":["React","Component","DishDetail","Menu","Header","Footer","Home","Contact","About","Switch","Route","Redirect","withRouter","connect","postComment","fetchDishes","fetchComments","fetchPromos","fetchLeaders","postFeedback","actions","TransitionGroup","CSSTransition","mapStateToProps","state","dishes","comments","promotions","leaders","mapDispatchToProps","dispatch","dishId","rating","author","comment","resetFeedbackForm","reset","values","Main","props","HomePage","filter","dish","featured","isLoading","errMess","promotion","leader","DishWithId","match","id","parseInt","params","location","key"],"sources":["/home/samyarsworld/Desktop/first-react-project/fetch-json-server/react-web-design/src/components/MainComponent.js"],"sourcesContent":["import React, { Component } from 'react';\nimport DishDetail from './DishDetailComponent';\nimport Menu from './MenuComponent';\nimport Header from './HeaderComponent';\nimport Footer from './FooterComponent';\nimport Home from './HomeComponent';\nimport Contact from './ContactComponent';\nimport About from './AboutComponent';\nimport { Switch, Route, Redirect, withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { postComment, fetchDishes, fetchComments, fetchPromos, fetchLeaders, postFeedback } from '../redux/ActionCreators';\n\nimport { actions } from 'react-redux-form';\n\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\n\n\nconst mapStateToProps = state => {\n    return {\n        dishes: state.dishes,\n        comments: state.comments,\n        promotions: state.promotions,\n        leaders: state.leaders\n    }\n}\n\nconst mapDispatchToProps = dispatch => ({\n\n    postComment: (dishId, rating, author, comment) => dispatch(postComment(dishId, rating, author, comment)),\n    fetchDishes: () => { dispatch(fetchDishes()) },\n    resetFeedbackForm: () => { dispatch(actions.reset('feedback')) },\n    fetchComments: () => { dispatch(fetchComments()) },\n    fetchPromos: () => { dispatch(fetchPromos()) },\n    fetchLeaders: () => { dispatch(fetchLeaders()) },\n    postFeedback: (values) => { dispatch(postFeedback(values)) }\n\n});\n\n\nclass Main extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    componentDidMount() {\n        this.props.fetchDishes();\n        this.props.fetchComments();\n        this.props.fetchPromos();\n        this.props.fetchLeaders();\n    }\n\n    render() {\n\n        const HomePage = () => {\n\n            return (\n                <Home\n                    dish={this.props.dishes.dishes.filter((dish) => dish.featured)[0]}\n                    dishesLoading={this.props.dishes.isLoading}\n                    dishesErrMess={this.props.dishes.errMess}\n                    promotion={this.props.promotions.promotions.filter((promotion) => promotion.featured)[0]}\n                    promosLoading={this.props.promotions.isLoading}\n                    promosErrMess={this.props.promotions.errMess}\n                    leadersLoading={this.props.leaders.isLoading}\n                    leadersErrMess={this.props.leaders.errMess}\n                    leader={this.props.leaders.leaders.filter((leader) => leader.featured)[0]}\n                />\n            );\n        }\n\n        const DishWithId = ({ match }) => {\n            return (\n                <DishDetail dish={this.props.dishes.dishes.filter((dish) => dish.id === parseInt(match.params.dishId, 10))[0]}\n                    dishesLoading={this.props.dishes.isLoading}\n                    dishesErrMess={this.props.dishes.errMess}\n                    comments={this.props.comments.comments.filter((comment) => comment.dishId === parseInt(match.params.dishId, 10))}\n                    commentsErrMess={this.props.comments.errMess}\n                    postComment={this.props.postComment}\n                />\n            );\n        };\n\n        return (\n\n            <React.Fragment>\n                <Header />\n                <TransitionGroup>\n                    <CSSTransition key={this.props.location.key} classNames=\"page\" timeout={300}>\n                        <Switch>\n                            <Route path='/home' component={HomePage} />\n                            <Route exact path='/menu' component={() => <Menu dishes={this.props.dishes} />} />\n                            <Route path='/menu/:dishId' component={DishWithId} />\n                            <Route exact path='/contactus' component={() => <Contact postFeedback={this.props.postFeedback} resetFeedbackForm={this.props.resetFeedbackForm} />} />\n                            <Route exact path='/aboutus' component={() => <About leaders={this.props.leaders} />} />\n                            {/* if url dosesnt match, bydefault redirect to */}\n                            <Redirect to='/home' />\n                        </Switch>\n                    </CSSTransition>\n                </TransitionGroup>\n                <Footer />\n            </React.Fragment>\n\n\n        );\n    }\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Main));\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}